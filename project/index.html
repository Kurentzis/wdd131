<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/aqyua.css">
    <link rel="stylesheet" href="styles/aqua_wide.css">
    <script src="scripts/aqua.js" defer type="module"></script>
    <script  src="scripts/calculator.js" defer></script>
    <!-- <script src="scripts/calculatorTable.js" defer></script> -->
    <script src="../scripts/getdates.js" defer></script>
    <title>AquaGuide|Home</title>
</head>

<body>
    <header>
        <div class="header-contant-container">
            <h1><a href="index.html">AquaGuide</a></h1>
            <!-- <img class="header_image" src="images/aqua_small.webp" alt=""> -->
            <picture>
                <source media="(max-width: 500px)" srcset="images/aqua_small.webp">
                <source media="(max-width: 1000px)" srcset="images/aqua_whole.webp">
                <img src="images/aqua_whole.webp" alt="fish tank">
            </picture>
        </div>
    </header>
    <main>
        <section class="main-element">
            <h2>Micro</h2>
            <h2 id="wide"><a href="#">Micro</a></h2>
            <div class="micro-elements">
                <div class="sub-element">
                    <p class="element" data-filter="fe micro">Fe</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="mn micro">Mn</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="b micro">B</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="zn micro">Zn</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="cu micro">Cu</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="mo micro">Mo</p>

                </div>

                <div class="element-description-micro"></div>
            </div>

        </section>

        <section class="main-element">
            <h2>Macro</h2>
            <h2 id="wide"><a href="#">Macro</a></h2>
            <div class="macro-elements">
                <div class="sub-element">
                    <p class="element" data-filter="no3 macro">NO3</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="po4 macro">PO4</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="k macro">K</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="mg macro">Mg</p>

                </div>
                <div class="sub-element">
                    <p class="element" data-filter="ca macro">Ca</p>

                </div>
                <div class="element-description-macro"></div>
            </div>
        </section>
        </div>
        <section class="main-element">
            <h2>Fertilizer Calculator</h2>
            <h2 id="wide"><a href="#">Fertilizer Calculator</a></h2>
            <div class="calculator">
                <div class="form-group">
                    <label for="calc_type">Тип расчёта:</label>
                    <select required id="calc_type">
                        <option value="udo_count">Расчитать опираясь на дозу УДО</option>
                        <option value="target_count">Расчитать опираясь на целевую концентрацию</option>
                        <!-- <option value="water_change">Подмена воды</option> -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="aquariumName">Имя аквариума:</label>
                    <!-- <input required type="text" id="aquariumName" placeholder="Например: Основной аквариум"> -->
                    <select name="aquariumName" id="aquariumName">
                        <option value="Основной">Основной</option>
                        <option value="Маленький">Маленький</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="aquariumVolume">Объём аквариума (литр):</label>
                    <input required type="number" id="aquariumVolume" min="1" step="0.1" placeholder="Например: 50">
                </div>

                <div class="form-group dose-active">
                    <label for="dose">Доза удобрения (мл):</label>
                    <input required type="number" id="dose" min="0.1" step="0.1" placeholder="Например: 5">
                </div>

                <div class="form-group target-active">
                    <label for="targetConcentration">Целевая концентрация элемента (мг/л):</label>
                    <input required type="number" id="targetConcentration" min="0.1" step="0.1"
                        placeholder="Например: 10">
                </div>

                <div class="form-group">
                    <label for="element">Элемент:</label>
                    <select required id="element">
                        <option value="NO3">Нитрат (NO3)</option>
                        <option value="PO4">Фосфат (PO4)</option>
                        <option value="K">Калий (K)</option>
                        <option value="Fe">Железо (Fe)</option>
                        <option value="FeH">Железо хелат (Fe)</option>
                        <option value="Mg">Магний (Mg)</option>
                        <option value="Ca">Кальций (Са)</option>
                        <option value="Mn">Марганец (Mn)</option>
                        <option value="Cu">Медь (Cu)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="concentrationValue">Концентрация элемента в удобрении:</label>
                    <div class="concentration-group">
                        <input required type="number" id="concentrationValue" min="0.001" step="0.001"
                            placeholder="Введите число">
                        <select required id="concentrationUnit">
                            <option value="percent">%</option>
                            <option value="grams">г/л</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="useCurrentConcentration">
                    <label for="useCurrentConcentration">Учитывать текущую концентрацию элемента в аквариуме:</label>
                </div>

                <div class="form-group" id="currentConcentrationGroup" style="display: none;">
                    <label for="currentConcentration">Текущая концетрация элемента (мг/л):</label>
                    <input type="number" id="currentConcentration" min="0" step="0.1" placeholder="Например: 2">

                <div class="checkbox-group">
                    <input type="checkbox" id="useWaterReplacement">
                    <label for="useWaterReplacement">Была подмена воды в аквариуме:</label>
                </div>

                <div class="form-group" id="waterReplacementGroup" style="display: none;">
                    <label for="replacementAmount">Укажите объём подменной воды в литрах:</label>
                    <input type="number" id="replacementAmount" min="0" step="0.1" placeholder="Например: 2">
                </div>
                </div>


                <div id="errorConfirm"></div>
                <button id="calculator">Расчитать</button>

                <div class="result" id="result">
                    <h3>Результат</h3>
                    <p>Итоговая концентрация элемента в аквариуме: <span id="resultValue">0</span> мг/л</p>

                    <div class="element-info" id="elementInfo">
                    </div>
                </div>

                <div class="result-target" id="result-target">
                    <h3>Результат</h3>
                    <p>Нужно внести: <span id="resultValueTarget">0</span> мл УДО</p>

                    <div class="element-info" id="elementInfoTarget">
                    </div>
                </div>

                <div class="history" id="history">
                    <h3>История расчётов и замеров:</h3>
                    <div id="historyItems"></div>
                </div>
            </div>
        </section>

        <!-- <div>
            <label for="aquarium-name">Наименование аквариума:</label>
            <input type="text" id="aquarium-name" name="aquarium_name" required>
            <label for="aquarium-volume">Объем аквариума(л):</label> 
            <input type="number" id="aquarium-volume" name="aquarium_volume" step="0.1" required>

            <table>
                <thead>
                    <tr>
                        <th>Элемент</th>
                        <th>Концентрация в удобрении</th>
                        <th>Вариант дозировки</th>
                        <th>Доза удобрения (мл)</th>
                        <th>Текущая концентрация в аквариуме</th>
                        <th>Результат</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>NO₃</td>
                        <td><input type="number" name="no3_fertilizer_concentration" step="0.01" id="elementTableNo3"></td>
                        <td><select required id="concentrationUnit" id="elementTableNo3">
                            <option value="percent">%</option>
                            <option value="grams">g/l</option>
                        </select></td>
                        <td><input type="number" name="no3_dose" step="0.1" id="elementTableNo3"></td>
                        <td><input type="number" name="no3_current_concentration" step="0.01" id="elementTableNo3"></td>
                        <td><input type="text" name="no3_result" readonly></td>
                    </tr>
                    <tr>
                        <td>PO₄</td>
                        <td><input type="number" name="po4_fertilizer_concentration" step="0.01" id="elementTablePo4"></td>
                        <td><select required id="concentrationUnit" id="elementTablePo4">
                            <option value="percent">%</option>
                            <option value="grams">g/l</option>
                        </select></td>
                        <td><input type="number" name="po4_dose" step="0.1" id="elementTablePo4"></td>
                        <td><input type="number" name="po4_current_concentration" step="0.01" id="elementTablePo4"></td>
                        <td><input type="text" name="po4_result" readonly></td>
                    </tr>
                    <tr>
                        <td>K</td>
                        <td><input type="number" name="k_fertilizer_concentration" step="0.01" id="elementTableK"></td>
                        <td><select required id="concentrationUnit" id="elementTableK">
                            <option value="percent">%</option>
                            <option value="grams">g/l</option>
                        </select></td>
                        <td><input type="number" name="k_dose" step="0.1"></td id="elementTableK">
                        <td><input type="number" name="k_current_concentration" step="0.01" id="elementTableK"></td>
                        <td><input type="text" name="k_result" readonly></td>
                    </tr> 
                    <tr>
                        <td>Fe</td>
                        <td><input type="number" name="fe_fertilizer_concentration" step="0.01" id="elementTableFe"></td>
                        <td><select required id="concentrationUnit" id="elementTableFe">
                            <option value="percent">%</option>
                            <option value="grams">g/l</option>
                        </select></td>
                        <td><input type="number" name="fe_dose" step="0.1" id="elementTableFe"></td>
                        <td><input type="number" name="fe_current_concentration" step="0.01" id="elementTableFe"></td>
                        <td><input type="text" name="fe_result" readonly></td>
                    </tr> 
                </tbody>
            </table>
            <label for="comment">Комментарий:</label>
            <input type="textarea" name="comment" placeholder="Комментарий" id="comment">
            <button id="calculateBtn">Calculate</button>
            </div> -->
    </main>
    <footer>
        <p><span id="currentyear"></span> - Oleg Lasukov</p>
        <hr>
        <p id="lastModified"></p>
        <a href="https://kurentzis.github.io/wdd131/project/index.html">Home</a>
        <a href="https://kurentzis.github.io/wdd131/project/monitor.html">График</a>
    </footer>
</body>

</html>